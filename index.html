<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title></title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #dddddd; }
td.sourceCode { padding-left: 5px; }
code > span.kw { font-weight: bold; }
code > span.dt { color: #800000; }
code > span.dv { color: #0000ff; }
code > span.bn { color: #0000ff; }
code > span.fl { color: #800080; }
code > span.ch { color: #ff00ff; }
code > span.st { color: #dd0000; }
code > span.co { color: #808080; font-style: italic; }
code > span.al { color: #00ff00; font-weight: bold; }
code > span.fu { color: #000080; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link rel="stylesheet" href="css/main.css" type="text/css" />

</head>

<body>





<div class="dpmr-logo">

</div>
<p><br></p>
<div id="data-package-manager-for-r" class="section level1">
<h1>Data Package Manager for R</h1>
<p>Version: 0.1.3 <a href="https://travis-ci.org/christophergandrud/dpmr"><img src="https://travis-ci.org/christophergandrud/dpmr.svg?branch=master" alt="Build Status" /></a></p>
<div id="description" class="section level2">
<h2>Description</h2>
<p>The R package for creating and installing data packages that follow the <a href="https://okfn.org/">Open Knowledge Foundation</a>’s <a href="http://dataprotocols.org/data-packages/">Data Package Protocol</a>.</p>
<p><strong>dpmr</strong> has three core functions:</p>
<ul>
<li><p><code>datapackage_init</code>: initialises a new data package from an R data frame and (optionally) a meta data list.</p></li>
<li><p><code>datapackage_install</code>: installs a data package either stored locally or remotely, e.g. on GitHub.</p></li>
<li><p><code>datapackage_info:</code> reads a data package’s metadata (stored in its <em><a href="http://dataprotocols.org/data-packages/">datapackage.json</a></em> file) into the R Console and (optionally) as a list.</p></li>
</ul>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<div id="create-data-packages" class="section level3">
<h3>Create Data Packages</h3>
<p>To initiate a barebones data package in the current working directory called <code>My_Data_Package</code> use:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create fake data</span>
A &lt;-<span class="st"> </span>B &lt;-<span class="st"> </span>C &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span>:<span class="dv">20</span>, <span class="dt">size =</span> <span class="dv">20</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
ID &lt;-<span class="st"> </span><span class="kw">sort</span>(<span class="kw">rep</span>(<span class="st">&#39;a&#39;</span>, <span class="dv">20</span>))
Data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(ID, A, B, C)

<span class="kw">datapackage_init</span>(<span class="dt">df =</span> Data, <span class="dt">package_name =</span> <span class="st">&#39;My_Data_Package&#39;</span>)</code></pre>
<p>This will create a data package with barebones metadata in a <em><a href="http://dataprotocols.org/data-packages/">datapackage.json</a></em> file. You can then edit this by hand.</p>
<p>Alternatively, you can also create a list with the metadata in R and have this included with the data package:</p>
<pre class="sourceCode r"><code class="sourceCode r">meta_list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;My_Data_Package&#39;</span>,
                <span class="dt">title =</span> <span class="st">&#39;A fake data package&#39;</span>,
                <span class="dt">last_updated =</span> <span class="kw">Sys.Date</span>(),
                <span class="dt">version =</span> <span class="st">&#39;0.1&#39;</span>,
                <span class="dt">sources =</span> <span class="kw">data.frame</span>(<span class="dt">name =</span> <span class="st">&#39;Fake&#39;</span>,
                                    <span class="dt">web =</span> <span class="st">&#39;No URL, its fake.&#39;</span>))

<span class="kw">datapackage_init</span>(<span class="dt">df =</span> Data, <span class="dt">meta =</span> meta_list)</code></pre>
<p>Note if you don’t include the <code>resources</code> fields in your metadata list, then they will automatically be added. These fields identify the data files’ paths and data <code>schema</code>.</p>
</div>
<div id="installing-data-packages" class="section level3">
<h3>Installing Data Packages</h3>
<div id="locally" class="section level4">
<h4>Locally</h4>
<p>To load a data package called <a href="https://github.com/datasets/gdp">gdp</a> stored in the current working directory use:</p>
<pre class="sourceCode r"><code class="sourceCode r">gdp_data &lt;-<span class="st"> </span><span class="kw">datapackage_install</span>(<span class="dt">path =</span> <span class="st">&#39;gdp/&#39;</span>)</code></pre>
</div>
<div id="from-the-web" class="section level4">
<h4>From the web</h4>
<p>You can install a package stored remotely using its URL. In this example we directly download the gdp data package from GitHub using the URL for its zip file:</p>
<pre class="sourceCode r"><code class="sourceCode r">URL &lt;-<span class="st"> &#39;https://github.com/datasets/gdp/archive/master.zip&#39;</span>
gdp_data &lt;-<span class="st"> </span><span class="kw">datapackage_install</span>(<span class="dt">path =</span> URL)</code></pre>
</div>
</div>
</div>
<div id="get-data-package-metadata" class="section level2">
<h2>Get Data Package Metadata</h2>
<p>Use <code>datapackage_info</code> to read a data package’s metadata into R:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print information when working directory is a data package</span>
<span class="kw">datapackage_info</span>()</code></pre>
</div>
<div id="install-dpmr-r-package" class="section level2">
<h2>Install dpmr R package</h2>
<p>To install the <em>dpmr</em> package use:</p>
<pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">&#39;christophergandrud/dpmr&#39;</span>)</code></pre>
</div>
<div id="to-do-for-v0.2" class="section level2">
<h2>To-do for <em>v0.2</em></h2>
<ul>
<li><p>[ ] <code>datapackage_update</code> for updating a data package’s data and metadata.</p></li>
<li><p>[ ] Specify data variable descriptions in meta list.</p></li>
<li><p>[ ] Load inline data from the <em>datapackage.json</em> file.</p></li>
<li><p>[ ] Load data from a GitHub repo using GitHub usernames and repos.</p></li>
</ul>
<hr />
<p><a href="http://nadrosia.tumblr.com/post/53520500877/made-in-berlin-badge-update"><img src="http://media.tumblr.com/023c285c14ef01953d3b67ffe789004d/tumblr_inline_mor1uu2OOZ1qz4rgp.png" height = "100" align="right" /></a></p>
<p>Licensed under <a href="LICENSE.md">GPL-3</a></p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
